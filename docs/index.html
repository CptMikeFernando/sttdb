<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=0.8">
<link rel="preconnect" href="https://site.api.espn.com" crossorigin>
<link rel="dns-prefetch" href="https://site.api.espn.com">
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2180098394455320"
     crossorigin="anonymous"></script>
<script src="https://kit.fontawesome.com/a5a62b4847.js" crossorigin="anonymous"></script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
  @import url('https://fonts.googleapis.com/css2?family=Teko:wght@700&display=swap');
</style>
</head>
<body>

<!-- Navigation Header -->
<nav class="main-nav">
  <div class="nav-logo-container">
    <img src="img/tiger-head.png" alt="Tiger" class="nav-tiger-img">
    <img src="img/sttdb-logo.png" alt="STTDB" class="nav-logo-img">
  </div>
  <ul class="nav-links">
    <li><a href="/" class="nav-link active">Home</a></li>
    <li><a href="#news" class="nav-link" onclick="scrollToNews(event)">News</a></li>
    <li><a href="https://www.tigerdroppings.com/rant/lsu-sports/" target="_blank" class="nav-link">Forums</a></li>
    <li><a href="https://www.tigerdroppings.com" target="_blank" class="nav-link">Death Valley After Dark</a></li>
    <li><a href="#" class="nav-link">Merch</a></li>
  </ul>
  <button class="nav-toggle" aria-label="Toggle menu">
    <i class="fa fa-bars"></i>
  </button>
</nav>

<!-- Sports Ticker Carousel -->
<div class="sports-ticker">
  <div class="ticker-track" id="ticker-content">
    <span class="ticker-item">Loading scores...</span>
  </div>
</div>
<script src="js/sports-ticker.js"></script>

<!-- Main Content -->
<div class="main-content">
  
<div>
  <img width="400" height="400" src="img/chillinmikecigar2.png" alt="STTDB">
</div>
 
<div class="container">
  <div class="audio-wrapper">
    <button class="play-btn" id="playBtn" onclick="togglePlay()">
      <span class="play-icon">&#9654;</span>
    </button>
    <input type="range" id="progressBar" class="progress-bar" value="0" min="0" max="100">
    <audio id="mainAudio" preload="auto" loop>
      <source src="https://raw.githubusercontent.com/CptMikeFernando/sttdb/master/docs/neck.mp3" type="audio/mpeg" />
    </audio>
  </div>

  <script>
    const audio = document.getElementById('mainAudio');
    const playBtn = document.getElementById('playBtn');
    const playIcon = playBtn.querySelector('.play-icon');
    const progressBar = document.getElementById('progressBar');
    
    function togglePlay() {
      if (audio.paused) {
        audio.play().then(function() {
          playIcon.innerHTML = '&#10074;&#10074;';
        }).catch(function(error) {
          console.log('Play error:', error);
        });
      } else {
        audio.pause();
        playIcon.innerHTML = '&#9654;';
      }
    }
    
    audio.addEventListener('timeupdate', function() {
      if (audio.duration) {
        const progress = (audio.currentTime / audio.duration) * 100;
        progressBar.value = progress;
      }
    });
    
    progressBar.addEventListener('input', function() {
      if (audio.duration) {
        const time = (progressBar.value / 100) * audio.duration;
        audio.currentTime = time;
      }
    });
    
    audio.addEventListener('ended', function() {
      playIcon.innerHTML = '&#9654;';
      progressBar.value = 0;
    });
    
    audio.addEventListener('play', function() {
      playIcon.innerHTML = '&#10074;&#10074;';
      playBtn.classList.add('playing');
    });
    
    audio.addEventListener('pause', function() {
      playIcon.innerHTML = '&#9654;';
      playBtn.classList.remove('playing');
    });
  </script>
</div>

<!-- LSU News Section -->
<section class="news-section" id="news">
  <div class="news-tabs">
    <button class="news-tab active" data-tab="sports">Sports News</button>
    <button class="news-tab" data-tab="recruiting">Recruiting</button>
  </div>
  <div class="tab-divider"></div>
  <div id="news-container" class="news-container" data-content="sports">
    <p class="loading-text">Loading LSU news...</p>
  </div>
  <div id="recruiting-container" class="news-container" data-content="recruiting" style="display: none;">
    <p class="loading-text">Loading recruiting news...</p>
  </div>
</section>

<div class="social-links">
  <a class='tombollink3' href='https://instagram.com/geaux_sttdb' target='_blank' title='Instagram'><i class="fa fa-instagram"></i></a>
  <a class='tombollink3' href='https://x.com/geaux_sttdb' target='_blank' title='Twitter'><i class="fa fa-twitter"></i></a>
</div>

</div>

<link href='//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' rel='stylesheet'/>
<script src="js/lsu-news.js"></script>
<script src="js/recruiting-news.js"></script>

<script>
document.querySelector('.nav-toggle').addEventListener('click', function() {
  document.querySelector('.nav-links').classList.toggle('open');
});

document.querySelectorAll('.nav-links a').forEach(function(link) {
  link.addEventListener('click', function() {
    document.querySelector('.nav-links').classList.remove('open');
  });
});

function scrollToNews(event) {
  event.preventDefault();
  var newsSection = document.getElementById('news');
  var headerOffset = 130;
  var elementPosition = newsSection.getBoundingClientRect().top;
  var offsetPosition = elementPosition + window.pageYOffset - headerOffset;
  window.scrollTo({
    top: offsetPosition,
    behavior: 'smooth'
  });
}

document.querySelectorAll('.news-tab').forEach(function(tab) {
  tab.addEventListener('click', function() {
    document.querySelectorAll('.news-tab').forEach(function(t) {
      t.classList.remove('active');
    });
    this.classList.add('active');
    
    var tabName = this.getAttribute('data-tab');
    document.querySelectorAll('.news-container').forEach(function(container) {
      if (container.getAttribute('data-content') === tabName) {
        container.style.display = 'flex';
      } else {
        container.style.display = 'none';
      }
    });
  });
});
</script>
  
</body>
</html>
